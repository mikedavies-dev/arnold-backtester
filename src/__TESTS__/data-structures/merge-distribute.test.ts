import {mergeAndDistributeArrays} from '../../utils/data-structures';

describe('merge and distribute arrays', () => {
  test('arrays of the same size', () => {
    const array1: any[] = [1, 2, 3, 4, 5, 6];
    const array2: any[] = ['a', 'b', 'c', 'd', 'e', 'f'];

    const merged = mergeAndDistributeArrays(array1, array2);

    expect(merged).toEqual([1, 'a', 2, 'b', 3, 'c', 4, 'd', 5, 'e', 6, 'f']);

    // Make sure the first two arrays have not changed
    expect(array1).toEqual([1, 2, 3, 4, 5, 6]);
    expect(array2).toEqual(['a', 'b', 'c', 'd', 'e', 'f']);
  });

  test('second array is empty', () => {
    const array1: any[] = [1, 2, 3, 4, 5, 6];
    const array2: any[] = [];

    const merged = mergeAndDistributeArrays(array1, array2);

    expect(merged).toEqual([1, 2, 3, 4, 5, 6]);

    // Make sure the first two arrays have not changed
    expect(array1).toEqual([1, 2, 3, 4, 5, 6]);
    expect(array2).toEqual([]);
  });

  test('first array is empty', () => {
    const array1: any[] = [];
    const array2: any[] = [1, 2, 3, 4, 5, 6];

    const merged = mergeAndDistributeArrays(array1, array2);

    expect(merged).toEqual([1, 2, 3, 4, 5, 6]);

    // Make sure the first two arrays have not changed
    expect(array1).toEqual([]);
    expect(array2).toEqual([1, 2, 3, 4, 5, 6]);
  });

  test('large arrays', () => {
    const array1: any[] = [];
    const array2: any[] = [];

    for (let i = 0; i < 400; i += 1) {
      array1.push(`A${i}`);

      if (i < 160) {
        array2.push(`B${i}`);
      }
    }

    const merged = mergeAndDistributeArrays(array2, array1);
    expect(merged.length).toEqual(560);
    expect(merged).toMatchInlineSnapshot(`
      [
        "A0",
        "A1",
        "A2",
        "B0",
        "A3",
        "A4",
        "B1",
        "A5",
        "A6",
        "A7",
        "B2",
        "A8",
        "A9",
        "B3",
        "A10",
        "A11",
        "A12",
        "B4",
        "A13",
        "A14",
        "B5",
        "A15",
        "A16",
        "A17",
        "B6",
        "A18",
        "A19",
        "B7",
        "A20",
        "A21",
        "A22",
        "B8",
        "A23",
        "A24",
        "B9",
        "A25",
        "A26",
        "A27",
        "B10",
        "A28",
        "A29",
        "B11",
        "A30",
        "A31",
        "A32",
        "B12",
        "A33",
        "A34",
        "B13",
        "A35",
        "A36",
        "A37",
        "B14",
        "A38",
        "A39",
        "B15",
        "A40",
        "A41",
        "A42",
        "B16",
        "A43",
        "A44",
        "B17",
        "A45",
        "A46",
        "A47",
        "B18",
        "A48",
        "A49",
        "B19",
        "A50",
        "A51",
        "A52",
        "B20",
        "A53",
        "A54",
        "B21",
        "A55",
        "A56",
        "A57",
        "B22",
        "A58",
        "A59",
        "B23",
        "A60",
        "A61",
        "A62",
        "B24",
        "A63",
        "A64",
        "B25",
        "A65",
        "A66",
        "A67",
        "B26",
        "A68",
        "A69",
        "B27",
        "A70",
        "A71",
        "A72",
        "B28",
        "A73",
        "A74",
        "B29",
        "A75",
        "A76",
        "A77",
        "B30",
        "A78",
        "A79",
        "B31",
        "A80",
        "A81",
        "B32",
        "A82",
        "A83",
        "A84",
        "B33",
        "A85",
        "A86",
        "B34",
        "A87",
        "A88",
        "A89",
        "B35",
        "A90",
        "A91",
        "B36",
        "A92",
        "A93",
        "A94",
        "B37",
        "A95",
        "A96",
        "B38",
        "A97",
        "A98",
        "A99",
        "B39",
        "A100",
        "A101",
        "B40",
        "A102",
        "A103",
        "A104",
        "B41",
        "A105",
        "A106",
        "B42",
        "A107",
        "A108",
        "A109",
        "B43",
        "A110",
        "A111",
        "B44",
        "A112",
        "A113",
        "A114",
        "B45",
        "A115",
        "A116",
        "B46",
        "A117",
        "A118",
        "A119",
        "B47",
        "A120",
        "A121",
        "B48",
        "A122",
        "A123",
        "A124",
        "B49",
        "A125",
        "A126",
        "B50",
        "A127",
        "A128",
        "A129",
        "B51",
        "A130",
        "A131",
        "B52",
        "A132",
        "A133",
        "A134",
        "B53",
        "A135",
        "A136",
        "B54",
        "A137",
        "A138",
        "A139",
        "B55",
        "A140",
        "A141",
        "B56",
        "A142",
        "A143",
        "A144",
        "B57",
        "A145",
        "A146",
        "B58",
        "A147",
        "A148",
        "A149",
        "B59",
        "A150",
        "A151",
        "B60",
        "A152",
        "A153",
        "A154",
        "B61",
        "A155",
        "A156",
        "B62",
        "A157",
        "A158",
        "A159",
        "B63",
        "A160",
        "A161",
        "B64",
        "A162",
        "A163",
        "B65",
        "A164",
        "A165",
        "A166",
        "B66",
        "A167",
        "A168",
        "B67",
        "A169",
        "A170",
        "A171",
        "B68",
        "A172",
        "A173",
        "B69",
        "A174",
        "A175",
        "A176",
        "B70",
        "A177",
        "A178",
        "B71",
        "A179",
        "A180",
        "A181",
        "B72",
        "A182",
        "A183",
        "B73",
        "A184",
        "A185",
        "A186",
        "B74",
        "A187",
        "A188",
        "B75",
        "A189",
        "A190",
        "A191",
        "B76",
        "A192",
        "A193",
        "B77",
        "A194",
        "A195",
        "A196",
        "B78",
        "A197",
        "A198",
        "B79",
        "A199",
        "A200",
        "A201",
        "B80",
        "A202",
        "A203",
        "B81",
        "A204",
        "A205",
        "A206",
        "B82",
        "A207",
        "A208",
        "B83",
        "A209",
        "A210",
        "A211",
        "B84",
        "A212",
        "A213",
        "B85",
        "A214",
        "A215",
        "A216",
        "B86",
        "A217",
        "A218",
        "B87",
        "A219",
        "A220",
        "A221",
        "B88",
        "A222",
        "A223",
        "B89",
        "A224",
        "A225",
        "A226",
        "B90",
        "A227",
        "A228",
        "B91",
        "A229",
        "A230",
        "A231",
        "B92",
        "A232",
        "A233",
        "B93",
        "A234",
        "A235",
        "A236",
        "B94",
        "A237",
        "A238",
        "B95",
        "A239",
        "A240",
        "B96",
        "A241",
        "A242",
        "A243",
        "B97",
        "A244",
        "A245",
        "B98",
        "A246",
        "A247",
        "A248",
        "B99",
        "A249",
        "A250",
        "B100",
        "A251",
        "A252",
        "A253",
        "B101",
        "A254",
        "A255",
        "B102",
        "A256",
        "A257",
        "A258",
        "B103",
        "A259",
        "A260",
        "B104",
        "A261",
        "A262",
        "A263",
        "B105",
        "A264",
        "A265",
        "B106",
        "A266",
        "A267",
        "A268",
        "B107",
        "A269",
        "A270",
        "B108",
        "A271",
        "A272",
        "A273",
        "B109",
        "A274",
        "A275",
        "B110",
        "A276",
        "A277",
        "A278",
        "B111",
        "A279",
        "A280",
        "B112",
        "A281",
        "A282",
        "A283",
        "B113",
        "A284",
        "A285",
        "B114",
        "A286",
        "A287",
        "A288",
        "B115",
        "A289",
        "A290",
        "B116",
        "A291",
        "A292",
        "A293",
        "B117",
        "A294",
        "A295",
        "B118",
        "A296",
        "A297",
        "A298",
        "B119",
        "A299",
        "A300",
        "B120",
        "A301",
        "A302",
        "A303",
        "B121",
        "A304",
        "A305",
        "B122",
        "A306",
        "A307",
        "A308",
        "B123",
        "A309",
        "A310",
        "B124",
        "A311",
        "A312",
        "A313",
        "B125",
        "A314",
        "A315",
        "B126",
        "A316",
        "A317",
        "A318",
        "B127",
        "A319",
        "A320",
        "B128",
        "A321",
        "A322",
        "B129",
        "A323",
        "A324",
        "A325",
        "B130",
        "A326",
        "A327",
        "B131",
        "A328",
        "A329",
        "A330",
        "B132",
        "A331",
        "A332",
        "B133",
        "A333",
        "A334",
        "A335",
        "B134",
        "A336",
        "A337",
        "B135",
        "A338",
        "A339",
        "A340",
        "B136",
        "A341",
        "A342",
        "B137",
        "A343",
        "A344",
        "A345",
        "B138",
        "A346",
        "A347",
        "B139",
        "A348",
        "A349",
        "A350",
        "B140",
        "A351",
        "A352",
        "B141",
        "A353",
        "A354",
        "A355",
        "B142",
        "A356",
        "A357",
        "B143",
        "A358",
        "A359",
        "A360",
        "B144",
        "A361",
        "A362",
        "B145",
        "A363",
        "A364",
        "A365",
        "B146",
        "A366",
        "A367",
        "B147",
        "A368",
        "A369",
        "A370",
        "B148",
        "A371",
        "A372",
        "B149",
        "A373",
        "A374",
        "A375",
        "B150",
        "A376",
        "A377",
        "B151",
        "A378",
        "A379",
        "A380",
        "B152",
        "A381",
        "A382",
        "B153",
        "A383",
        "A384",
        "A385",
        "B154",
        "A386",
        "A387",
        "B155",
        "A388",
        "A389",
        "A390",
        "B156",
        "A391",
        "A392",
        "B157",
        "A393",
        "A394",
        "A395",
        "B158",
        "A396",
        "A397",
        "B159",
        "A398",
        "A399",
      ]
    `);
  });
});
